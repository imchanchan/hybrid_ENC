# 🔐 Hybrid_ENC: Hybrid Cryptosystem Implementation

> 대칭키 암호(AES)와 해시(SHA1)를 조합한 **Hybrid 암호 시스템** 구현 프로젝트

---

## 진행 기간
2022.10.05. ~ 2022.12.20.

## 👥 참여 인원
- [보안프로그래밍] : 최찬 , 원희정  

---

## 📌 프로젝트 소개

본 프로젝트는 현대 암호 시스템에서 자주 사용되는 **하이브리드 암호 구조(Hybrid Encryption)**를 직접 구현해보고  
그 흐름을 이해하는 것을 목표로 한 실습형 프로젝트입니다.

- 비밀번호를 **SHA-1 해싱**하여 세션 키 생성
- 세션 키로 **AES 대칭키 암호화** 수행
- 세션 키를 **RSA 공개키로 암호화**, 개인키로 복호화하여 안전한 키 분배 시뮬레이션

---

## 암호 시스템 구성

| 구성 요소 | 설명 |
|-----------|------|
| 🔐 **SHA-1** | 사용자 비밀번호를 해싱하여 세션 키 생성 |
| 🔒 **AES (128-bit)** | 평문 파일(`plaintext.txt`) 암호화 |
| 🔑 **RSA** | 세션 키를 공개키로 암호화, 개인키로 복호화 |

---

## 🧾 주요 파일 구성

| 파일명 | 설명 |
|--------|------|
| `main.cpp` | 전체 암호 프로세스 실행 (SHA1 → AES → RSA) |
| `AES.cpp` | AES-128 ECB 암호화 및 키 스케줄 구현 |
| `SHA1.cpp` | SHA-1 해시 함수 직접 구현 |
| `header.h` | 함수 및 타입 정의 |
| `plaintext.txt` | 암호화할 평문 파일 |
| `hybrid_crypto` | 빌드된 실행 파일 |
| `sha1_test`, `test_SHA1.cpp` | SHA-1 테스트 코드 |
| `test_SHA1.py` | Python에서 SHA-1 결과 비교용 |

---

## 🔄 암호화 흐름 (main.cpp 기준)

1. **사용자로부터 비밀번호 입력**
2. 입력된 비밀번호 + 랜덤 4글자 → `SHA-1 해시` → 세션키 생성
3. 세션 키 기반 **AES Round Key** 확장
4. 입력 파일(`plaintext.txt`)을 AES로 암호화
5. 세션키를 **RSA 공개키로 암호화**
6. RSA **개인키로 복호화**하여 원래 세션키 복원


최종적으로 **암호화된 데이터 + 암호화된 키**를 통해 복호화 시 전체 데이터 복원 가능

---

## 🔅 주요 기능 흐름

1. **파일 입력 (plaintext.txt)**  
2. **AES를 이용한 대칭키 암호화**
3. **SHA1으로 무결성 검증용 해시 생성**
4. **결과를 hybrid_crypto 실행 파일로 출력**
5. **test_SHA1을 통해 SHA1의 무결성 검증 수행**

---

## ✅ 실행 예시

$ ./hybrid_crypto

비밀번호를 입력하세요. (60자 이하, 영문 소문자) PASSWORD : mypassword

[RSA] 암호화 및 복호화 결과  
Original Text   : Hello, World!  
Decrypted Text  : Hello, World!

